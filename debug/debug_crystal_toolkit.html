<!DOCTYPE html>
<html>
<head>
    <title>Crystal Toolkit æ¸²æŸ“å™¨è°ƒè¯•</title>
    <script src="/static/js/plotly.min.js"></script>
    <style>
        #debugPreview {
            width: 800px;
            height: 600px;
            border: 2px solid #007bff;
            margin: 20px auto;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <h1>Crystal Toolkit æ¸²æŸ“å™¨è°ƒè¯•</h1>
    <div id="debugPreview"></div>
    
    <script src="/static/js/crystal_toolkit_renderer.js"></script>
    <script>
        console.log('ğŸ”§ å¼€å§‹è°ƒè¯•...');
        
        // æµ‹è¯•æ•°æ®ï¼ˆæ¨¡æ‹ŸNaClç»“æ„ï¼‰
        const testStructure = {
            formula: "NaCl",
            sites: [
                {
                    coords: [0.0, 0.0, 0.0],
                    species: [{ element: "Na", occu: 1.0 }]
                },
                {
                    coords: [0.5, 0.5, 0.5],
                    species: [{ element: "Cl", occu: 1.0 }]
                }
            ],
            lattice: {
                matrix: [
                    [5.64, 0.0, 0.0],
                    [0.0, 5.64, 0.0],
                    [0.0, 0.0, 5.64]
                ]
            }
        };
        
        console.log('ğŸ“Š æµ‹è¯•ç»“æ„:', testStructure);
        
        // åˆå§‹åŒ–æ¸²æŸ“å™¨
        if (typeof CrystalToolkitRenderer !== 'undefined') {
            console.log('âœ… CrystalToolkitRenderer æ‰¾åˆ°');
            
            const renderer = new CrystalToolkitRenderer('debugPreview');
            
            setTimeout(() => {
                console.log('ğŸš€ å°è¯•æ¸²æŸ“æµ‹è¯•ç»“æ„...');
                const result = renderer.loadStructure(testStructure);
                console.log('ğŸ“‹ æ¸²æŸ“ç»“æœ:', result);
            }, 1000);
            
        } else {
            console.error('âŒ CrystalToolkitRenderer æœªæ‰¾åˆ°');
        }
    </script>
</body>
</html>